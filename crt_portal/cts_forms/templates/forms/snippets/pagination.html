{% load static %}
<section class="usa-pagination-wrapper">
  <nav class="usa-pagination view-all-pagination" role="navigation" aria-label="pagination">
    <span class="usa-sr-only">Pagination: Current page, page {{ page_format.page }}.</span>
    <ol class="pagination">
      {# Left nav arrow #}
      {% if page_format.has_previous %}
        <li class="nav-arrow">
          <span id="page-back" class="usa-sr-only">Go back 1 page.</span>
          <a href="{{ page_args }}&page={{ page_format.previous_page_number }}" aria-labelledby="page-back">
            {% include "forms/snippets/nav_arrow.html" %}
          </a>
        </li>
      {% else %}
        <li class="nav-arrow disabled-nav">
          <div>
            {% include "forms/snippets/nav_arrow.html" %}
          </div>
        </li>
      {% endif %}

      {% if page_format.show_first %}
        <li><a href="{{ page_args }}&page=1" role="button" aria-label="Go to page 1.">1</a></li>
      {% endif %}
      {% if page_format.first_ellipsis %}
        <li class="disabled-nav">
          <span class="ellipsis" aria-hidden='true'>...</span>
        </li>
      {% endif %}

      {% for linkpage in page_format.page_numbers %}
        {% ifequal linkpage page_format.page %}
           <li class="current-page disabled-nav" aria-current="true">
             <div>
               {{ page_format.page }}
            </div>
          </li>
        {% else %}
           <li><a href="{{ page_args }}&page={{ linkpage }}" role="button" aria-label="Go to page {{ linkpage }}.">{{ linkpage }}</a></li>
        {% endifequal %}
      {% endfor %}

      {% if page_format.last_ellipsis %}
        <li class="disabled-nav">
          <span class="ellipsis" aria-hidden='true'>...</span>
        </li>
      {% endif %}
      {% if page_format.show_last %}
        <li><a href="{{ page_args }}&page={{ page_format.total_pages }}" role="button" aria-label="Go to page {{ page_format.total_pages }}.">{{ page_format.total_pages }}</a></li>
      {% endif %}

      {# Right nav arrow #}
      {% if page_format.has_next %}
        <li class="nav-arrow">
          <span id="page-forward" class="usa-sr-only">Go forward 1 page.</span>
          <a href="{{ page_args }}&page={{ page_format.next_page_number }}" aria-labelledby="page-forward">
            {% include "forms/snippets/nav_arrow.html" with point_right=True %}
          </a>
        </li>
      {% else %}
        <li class="nav-arrow disabled-nav" aria-hidden="true">
          <div>
            {% include "forms/snippets/nav_arrow.html" with point_right=True %}
          </div>
        </li>
      {% endif %}
    </ol>
  </nav>
</section>